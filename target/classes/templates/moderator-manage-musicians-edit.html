<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="fragments/commons::head"></head>
<body>
<nav th:replace="fragments/commons::nav"></nav>

<div class="jumbotron jumbotron-fluid">
    <div class="container">
        <h1 class="display-4 txt-blue">Welcome to moderator page</h1>
        <p class="lead">This is a website where you can find your favourite artists and bands.<br>You can manage
            musicians here.</p>
        <hr class="my-4">
    </div>
</div>

<div class="container text-center p-5">
    <h2 class="txt-blue">This is a page for editing musician information.</h2>
    <div class="container p-5">

        <div class="row">
            <form th:method="patch"
                  th:object="${musicianEditBindingModel}"
                  th:action="@{/artists/manage/musicians/details/{id}/edit(id=${musicianEditBindingModel.id})}"
                  class="needs-validation p-5" novalidate>
                <div class="form-group col-4">
                    <label for="name">Name:</label>
                    <input th:value="${musicianEditBindingModel.name}"
                           type="text" class="form-control w-auto" id="name" placeholder="Enter name" name="name">
                    <!-- Error message for wrong name start-->
                    <small th:if="${#fields.hasErrors('name')}" th:errors="*{name}"
                           class="text-danger rounded col-md-6 p-1">
                    </small>
                    <!-- EO: Error message for wrong name start-->
                </div>
                <div class="form-group col-4">
                    <label for="country">Country:</label>
                    <input th:value="${musicianEditBindingModel.country}"
                           type="text" class="form-control w-auto" id="country" placeholder="Enter country"
                           name="country">
                    <!-- Error message for wrong country start-->
                    <small th:if="${#fields.hasErrors('country')}" th:errors="*{country}"
                           class="text-danger rounded col-md-6 p-1">
                    </small>
                    <!-- EO: Error message for wrong country start-->
                </div>

                <div class="form-group col-4">
                    <label for="history">History:</label>
                    <textarea th:text="${musicianEditBindingModel.history}"
                              id="history" placeholder="Enter a brief history:"
                              name="history" rows="10" cols="50"></textarea>
                    <div class="valid-feedback">Valid.</div>
                    <div class="invalid-feedback">Please fill out this field.</div>
                </div>

                <button type="submit" class="btn btn-primary btn-sm">Update</button>
                <a type="button" class="btn btn-primary btn-sm btn-txt-white" th:href="@{/artists/manage/musicians/{id}/details(id=${musicianEditBindingModel.id})}">Cancel</a>
            </form>
        </div>

    </div>
</div>

<hr th:replace="fragments/commons::hr">

<footer class="navbar bg-secondary navbar-dark navbar-expand-md fixed-bottom">
    <ul class="nav ml-auto mr-auto">
        <li class="nav-item">
            <span class="nav-link" style="color: whitesmoke">SoftUni.BG Java Web - Spring Advanced Final Project</span>
        </li>
    </ul>
</footer>

<script th:replace="fragments/commons::jQuery"></script>
<script th:replace="fragments/commons::PopperJS"></script>
<script th:replace="fragments/commons::BootstrapJS"></script>
</body>
</html>